<!DOCTYPE html
	  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <title>WebApollo</title>
    <link rel="stylesheet" type="text/css" href="jslib/dijit/themes/tundra/tundra.css"></link>
    <link rel="stylesheet" type="text/css" href="jslib/dojo/resources/dojo.css"></link>

    <!-- load JQuery theme CSS remotely from Google CDN: -->
  <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/themes/base/jquery-ui.css"/>  

    <!-- load JQuery theme CSS from WebApollo server -->
    <!-- <link rel="stylesheet" type="text/css" href="jslib/jquery-ui.css"/>  -->

    <style type="text/css">
      html, body { height: 100%; width: 100%; padding: 0; border: 0; }
    </style>
    <link rel="stylesheet" type="text/css" title="genome_styles" href="genome.css"></link>

    <!--  Load JQuery, JQuery-UI, Dojo remotely from Google CDN: -->

<!-- <script type="text/javascript" src="jslib/jquery-1.5/jquery-1.5.mod.js" ></script>	 -->
<!-- 
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.js"></script>  

-->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js"></script> 
<!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.10/jquery-ui.js"></script> -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.js"></script> 

  <script src="http://www.google.com/jsapi" type="text/javascript"></script>
   <script type="text/javascript"> 
      // google.load("jquery", "1.7"); 
      // google.load("jquery", "1.5"); 
      // google.load("jqueryui", "1.8.10");
      google.load("dojo", "1.5");
    </script>

   <!--  Load JQuery, JQuery-ui, Dojo from WebApollo server: -->
<!--
    <script type="text/javascript" src="jslib/jquery-1.5/jquery-1.5.min.js" ></script> 
    <script type="text/javascript" src="jslib/jquery-ui-1.8.9.custom/js/jquery-ui-1.8.9.custom.min.js"></script> 
   <script type="text/javascript" src="jslib/dojo-1.5.0/dojo/dojo.js"></script>
-->

    <!-- using modernizr for easy testing of browser support for HTML5 / CSS3 / etc. features -->
    <script type="text/javascript" src="jslib/modernizr-2.0.6.js"></script>

<!--
    <link rel="stylesheet" type="text/css" href="jslib/jQuery-contextMenu/src/jquery.contextMenu.css"></link>
    <script type="text/javascript" src="jslib/jQuery-contextMenu/src/jquery.ui.position.js"></script>
    <script type="text/javascript" src="jslib/jQuery-contextMenu/src/jquery.contextMenu.js"></script>
-->
    <!--  djConfig="isDebug: true" -->

<!-- js_source_files -->
<!-- the files between the "js_source_files" comments get replaced
     when the JS gets minified (see the minification rule in the Makefile) -->
   <script type="text/javascript" src="js/Browser.js"></script>
    <script type="text/javascript" src="js/ConfigAdaptor/JB_json_v1.js"></script>
    <script type="text/javascript" src="js/ConfigAdaptor/JB_json_v0.js"></script>

    <script type="text/javascript" src="js/Util.js"></script>
    <script type="text/javascript" src="js/ArrayRepr.js"></script>
    <script type="text/javascript" src="js/NCList.js"></script>
    <script type="text/javascript" src="js/LazyPatricia.js"></script>
    <script type="text/javascript" src="js/LazyArray.js"></script>
    <script type="text/javascript" src="js/Track.js"></script>

    <script type="text/javascript" src="js/Layout.js"></script>

    <script type="text/javascript" src="js/Store.js"></script>
  <script type="text/javascript" src="js/SeqFeatureStore.js"></script>
  <script type="text/javascript" src="js/SeqFeatureStore/NCList.js"></script>
  <script type="text/javascript" src="js/SeqFeatureStore/BamPseudoListStore.js"></script>
  <script type="text/javascript" src="js/TiledImageStore/Fixed.js"></script>
  <script type="text/javascript" src="js/SequenceStore/StaticChunked.js"></script>

  <script type="text/javascript" src="js/Ruler.js"></script>
  <script type="text/javascript" src="js/Track/YScaleMixin.js"></script>

 <script type="text/javascript" src="js/FeatureTrack.js"></script>
   <script type="text/javascript" src="js/StaticTrack.js"></script>
   <script type="text/javascript" src="js/GridTrack.js"></script>
   <script type="text/javascript" src="js/ImageTrack.js"></script>
   <script type="text/javascript" src="js/ImageTrack/Wiggle.js"></script>

   <script type="text/javascript" src="js/Animation.js"></script>
   <script type="text/javascript" src="js/Slider.js"></script>
   <script type="text/javascript" src="js/Zoomer.js"></script>
   <script type="text/javascript" src="js/BehaviorManager.js"></script>
   <script type="text/javascript" src="js/GenomeView.js"></script>

    <script type="text/javascript" src="js/FeatureSelectionManager.js"></script>
  <script type="text/javascript" src="js/DraggableFeatureTrack.js"></script>
    <script type="text/javascript" src="js/SequenceTrack.js"></script>
    <!-- for testing draggable etc. -->
    <!--   <script type="text/javascript" src="js/BasicDraggableFeatureTrack.js"></script>   -->
    <script type="text/javascript" src="js/DasFeatureTrack.js"></script>
    <script type="text/javascript" src="js/AnnotTrack.js"></script>
    <script type="text/javascript" src="js/AnnotSequenceTrack.js"></script> 
    <!-- UITracks replaced by StaticTrack and GridTrack
         <script type="text/javascript" src="js/UITracks.js"></script>
    -->

    <!-- for testing CanvasTrack -->
    <script type="text/javascript" src="js/CanvasTrack.js"></script>
         <!--    <script type="text/javascript" src="js/WigTree.js"></script>  -->
    <script type="text/javascript" src="js/WigStack.js"></script>
    <script type="text/javascript" src="js/canvas_track_renderers/AvgBar_Renderer.js"></script>  
    <script type="text/javascript" src="js/canvas_track_renderers/AvgBar_MaxBar_Renderer.js"></script>  
    <script type="text/javascript" src="js/canvas_track_renderers/AvgBar_MinPoint_MaxPoint_Renderer.js"></script>
    <script type="text/javascript" src="js/canvas_track_renderers/AvgRange_MinMaxRange_Renderer.js"></script>  
    <script type="text/javascript" src="js/canvas_track_renderers/AvgLine_Renderer.js"></script>  
    
   <script type="text/javascript" src="js/JSONUtils.js"></script>
    <script type="text/javascript" src="js/BioFeatureUtils.js"></script>
    <script type="text/javascript" src="js/FeatureEdgeMatchManager.js"></script>
    <script type="text/javascript" src="js/Permission.js"></script>

    <!-- for testing file loading -->
   <!-- <script type="text/javascript" src="js/FileLoader.js"></script> -->

    <!-- for testing direct BAM access -->
    <script type="text/javascript" src="js/BamFeatureTrack.js"></script>
    <script type="text/javascript" src="js/BamPseudoNCList.js"></script>
    <script type="text/javascript" src="js/BamUtils.js"></script>

<!-- Dalliance code in berkeleybop/jbrowse repository -->
  <script language="javascript" src="jslib/dalliance_static/jszlib/js/inflate.js"></script>
  <script language="javascript" src="jslib/dalliance_static/js/utils.js"></script>
  <script language="javascript" src="jslib/dalliance_static/js/bin.js"></script>
  <script language="javascript" src="jslib/dalliance_static/js/bam.js"></script>

<!--  Dalliance code from GreggHelt2/dalliance fork (apollo branch) -->
<!--
  <script language="javascript" src="jslib/dalliance/jszlib/js/inflate.js"></script>
  <script language="javascript" src="jslib/dalliance/js/utils.js"></script>
  <script language="javascript" src="jslib/dalliance/js/bin.js"></script>
  <script language="javascript" src="jslib/dalliance/js/bam.js"></script>
-->



  <script type="text/javascript" src="js/touchJBrowse.js"></script>

<!-- js_source_files -->

<!--    repalced by refSeqs param to Browser  <script type="text/javascript" src="data/refSeqs.js"></script> -->
<!--    replaced by tracklists param to Browser <script type="text/javascript" src="data/trackInfo.js"></script> -->

    <script type="text/javascript">
        window.onerror=function(msg){
            document.body.setAttribute("JSError",msg);
        }
    </script>

  <script type="text/javascript" src="jslib/colour/jquery.color.js"></script>
    <script type="text/javascript" src="jslib/farbtastic/mod-farbtastic.js"></script>
<!--    <script type="text/javascript" src="jslib/jlayout/jquery.jlayout.js"></script> -->
<!--    <script type="text/javascript" src="jslib/jlayout/jlayout.grid.js"></script> -->
<!--    <script type="text/javascript" src="jslib/jlayout/jlayout.flexgrid.js"></script> -->
 <link rel="stylesheet" href="jslib/farbtastic/farbtastic.css" type="text/css" />
 <link rel="stylesheet" href="styles/get_sequence.css" type="text/css" />
 <link rel="stylesheet" href="styles/edit_comments.css" type="text/css" />
 <link rel="stylesheet" href="styles/add_sequence_alteration.css" type="text/css" />


    <script type="text/javascript">
     /* <![CDATA[ */
           var queryParams = dojo.queryToObject(window.location.search.slice(1));
           var bookmarkCallback = function(brwsr) {
               return window.location.protocol
                      + "//" + window.location.host
                      + window.location.pathname
                      + "?loc=" + brwsr.visibleRegion()
                      + "&tracks=" + brwsr.visibleTracks();
           }
           var dataRoot = queryParams.data || 'data';
           // var dataRoot = queryParams.data || '';  // blank dataRoot for dm3
           var b = new Browser({
                                   containerID: "GenomeBrowser",
	                           // dataRoot: "data/"  // for Amel4.5
				   // dataRoot: ""  // for dm3
                                   // refSeqs: refSeqs,
                                   // trackData: trackInfo,
                                 refSeqs: dataRoot + "/seq/refSeqs.json",
                                   include: [
                                      // dataRoot + "/debug_trackList.json"
                                       dataRoot + "/trackList.json" 
                                     // dataRoot + "/bam_trackList.json", 
                                     // dataRoot + "/annotation_trackList.json"
                                 ],
                                  // nameUrl: dataRoot + "/names/root.json",
                                   defaultTracks: "DNA,Annotations,RefSeq",
                                   // defaultTracks: "DNA", 
                                  queryParams: queryParams,
                                   location: queryParams.loc,
                                   // tracks: queryParams.tracks,
                                   // is bookmark superceded by show_nav, show_tracklist, show_overview
                                  //  after merge from GMOD/jbrowse:master ???
                                  // bookmark: bookmarkCallback,
                                  // forceTracks: queryParams.tracks,
				   show_nav: queryParams.nav,
				   show_tracklist: queryParams.tracklist,
				   show_overview: queryParams.overview
                               });
    /* ]]> */
      <!-- standard jbrowse dataRoot setting in Browser constructor... -->
      <!-- dataRoot: "data/" -->
    </script>
  </head>
  
  <body>
    <div id="GenomeBrowser" style="height: 100%; width: 100%; padding: 0; border: 0;"></div>
<!--
    Graph Load: 
    <input type="file" id="files1" name="files1[]" multiple > </input>
 -->
 </body>
</html>
